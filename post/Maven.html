<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="Keep Team">
    
    <title>
        
            Maven |
        
        Keep Theme
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.svg">
    
<link rel="stylesheet" href="/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"2295237514.github.io","root":"/","language":"en"};
    KEEP.theme_config = {"toc":{"enable":false,"number":false,"expand_all":false,"init_open":false},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.svg","favicon":"/images/logo.svg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":false,"background_img":"/images/bg.svg","description":"Keep writing and Keep loving."},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":false,"preload":false},"code_copy":{"enable":false,"style":"default"},"pjax":{"enable":false},"lazyload":{"enable":false},"version":"3.4.5"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 6.1.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                Keep Theme
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                    
                </ul>
            </div>
            <div class="mobile">
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">Maven</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.svg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">Keep Team</span>
                        
                            <span class="author-label">Lv2</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;
        <span class="pc">2022-05-18 16:50:49</span>
        <span class="mobile">2022-05-18 16:50</span>
    </span>
    
    

    
    
    
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <ul>
<li>Maven是专门用于管理和构建java项目的工具<h1 id="Maven基础"><a href="#Maven基础" class="headerlink" title="Maven基础"></a>Maven基础</h1><h2 id="Maven的功能"><a href="#Maven的功能" class="headerlink" title="Maven的功能"></a>Maven的功能</h2></li>
</ul>
<p>1、提供了一套标准化的项目结构</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220518171851.png"></p>
<p>2、提供了一套标准化的构建流程（编译，测试，打包，发布……）</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220523160341.png"></p>
<p>3、提供了一套依赖管理机制</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220527130234.png"></p>
<h2 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h2><p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220527132204.png"></p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220527134137.png"></p>
<h2 id="常见命令"><a href="#常见命令" class="headerlink" title="常见命令"></a>常见命令</h2><ul>
<li>compile 编译</li>
<li>clean 清理</li>
<li>test 测试</li>
<li>package 打包</li>
<li>install 安装</li>
</ul>
<h2 id="IDEA配置Maven"><a href="#IDEA配置Maven" class="headerlink" title="IDEA配置Maven"></a>IDEA配置Maven</h2><p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220604070638.png"></p>
<h2 id="Maven坐标详解"><a href="#Maven坐标详解" class="headerlink" title="Maven坐标详解"></a>Maven坐标详解</h2><ul>
<li><p>什么是坐标：</p>
<ul>
<li><p>Maven中的坐标是资源的唯一标识</p>
</li>
<li><p>使用坐标来定义项目或引入项目中需要的依赖</p>
</li>
</ul>
</li>
<li><p>Maven坐标的主要组成</p>
<ul>
<li>groupld：定义当前Maven项目隶属组织名称（通常是域名反写，例如：com.itheima）</li>
<li>artifactld：定义当前Maven项目名称（通常是模块名称）</li>
<li>version：定义当前项目版本号</li>
</ul>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220604074342.png"></p>
<h2 id="IDEA创建Maven项目"><a href="#IDEA创建Maven项目" class="headerlink" title="IDEA创建Maven项目"></a>IDEA创建Maven项目</h2><p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220604074516.png"></p>
<h2 id="依赖管理"><a href="#依赖管理" class="headerlink" title="依赖管理"></a>依赖管理</h2><h3 id="使用坐标导入jar包"><a href="#使用坐标导入jar包" class="headerlink" title="使用坐标导入jar包"></a>使用坐标导入jar包</h3><p>1.在pom.xml中编写&lt;dependencies&gt;标签</p>
<p>2.在&lt;dependencies&gt;标签中 使用&lt;dependency&gt;引入坐标</p>
<p>3.定义坐标的groupid，artifactld，version</p>
<p>4.点击刷新按钮，使坐标生效(建议配置自动生效，无需刷新)</p>
<pre class="line-numbers language-none"><code class="language-none">&lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;junit&lt;&#x2F;artifactId&gt;
      &lt;version&gt;4.11&lt;&#x2F;version&gt;
      &lt;scope&gt;test&lt;&#x2F;scope&gt;
    &lt;&#x2F;dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;
      &lt;version&gt;5.1.48&lt;&#x2F;version&gt;
    &lt;&#x2F;dependency&gt;
  &lt;&#x2F;dependencies&gt;</code></pre>

<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220604093854.png"></p>
<h3 id="依赖范围"><a href="#依赖范围" class="headerlink" title="依赖范围"></a>依赖范围</h3><p> <img src="https://raw.githubusercontent.com/2295237514/image/main/20220604100410.png"></p>
<h1 id="Maven进阶"><a href="#Maven进阶" class="headerlink" title="Maven进阶"></a>Maven进阶</h1><h2 id="分模块开发与设计"><a href="#分模块开发与设计" class="headerlink" title="分模块开发与设计"></a>分模块开发与设计</h2><ul>
<li>将原始模块按照功能拆分成若干个子模块，方便模块间的相互调用，接口共享</li>
</ul>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220922135648.png"></p>
<p>步骤：</p>
<p>1.创建Maven模块</p>
<p>2.书写模块代码</p>
<p>3.通过maven指令安装模块到本地仓库（install指令）</p>
<h2 id="依赖管理-1"><a href="#依赖管理-1" class="headerlink" title="依赖管理"></a>依赖管理</h2><ul>
<li><p>依赖具有传递性</p>
<ul>
<li>直接依赖：在当前项目中通过依赖配置建立的依赖关系</li>
<li>间接依赖：被依赖的资源如果依赖其他资源，当前项目间接依赖其他资源</li>
</ul>
</li>
<li><p>依赖传递冲突问题</p>
<ul>
<li>路径优先：当依赖中出现相同的资源时，层级越深，优先级越低，层级越浅，优先级越高</li>
<li>声明优先：当资源在相同层级被依赖时，配置顺序靠前的覆盖配置顺序靠后的</li>
<li>特殊优先：当同级配置了相同资源的不同版本，后配置的覆盖先配置的</li>
</ul>
</li>
<li><p>可选依赖</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;dependency&gt;
      &lt;groupId&gt;com.itheima&lt;&#x2F;groupId&gt;
      &lt;artifactId&gt;maven_03_pojo&lt;&#x2F;artifactId&gt;
      &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;
      &lt;!--可选依赖是隐藏当前工程所依赖的资源，隐藏后对应资源将不具有依赖传递--&gt;
      &lt;optional&gt;true&lt;&#x2F;optional&gt;
  &lt;&#x2F;dependency&gt;</code></pre>
</li>
<li><p>排除依赖</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;com.itheima&lt;&#x2F;groupId&gt;
    &lt;artifactId&gt;maven_04_dao&lt;&#x2F;artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;
    &lt;!--排除依赖是隐藏当前资源对应的依赖关系--&gt;
    &lt;exclusions&gt;
        &lt;exclusion&gt;
            &lt;groupId&gt;com.itheima&lt;&#x2F;groupId&gt;
            &lt;artifactId&gt;maven_03_pojo&lt;&#x2F;artifactId&gt;
        &lt;&#x2F;exclusion&gt;
    &lt;&#x2F;exclusions&gt;
&lt;&#x2F;dependency&gt;</code></pre></li>
</ul>
<p><em>简单来梳理下，就是</em></p>
<ul>
<li><code>A依赖B,B依赖C</code>,<code>C</code>通过依赖传递会被<code>A</code>使用到，现在要想办法让<code>A</code>不去依赖<code>C</code></li>
<li>可选依赖是在B上设置<code>&lt;optional&gt;</code>,<code>A</code>不知道有<code>C</code>的存在，</li>
<li>排除依赖是在A上设置<code>&lt;exclusions&gt;</code>,<code>A</code>知道有<code>C</code>的存在，主动将其排除掉。</li>
</ul>
<h2 id="聚合-与-继承"><a href="#聚合-与-继承" class="headerlink" title="聚合 与 继承"></a>聚合 与 继承</h2><h3 id="聚合"><a href="#聚合" class="headerlink" title="聚合"></a>聚合</h3><p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220922152415.png"></p>
<p>聚合项目的打包方式为<strong>POM</strong>，并添加所要管理的项目</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;
&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot;
         xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
         xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0 http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;

    &lt;groupId&gt;com.itheima&lt;&#x2F;groupId&gt;
    &lt;artifactId&gt;maven_01_parent&lt;&#x2F;artifactId&gt;
    &lt;version&gt;1.0-RELEASE&lt;&#x2F;version&gt;
    &lt;packaging&gt;pom&lt;&#x2F;packaging&gt;
    
    
    &lt;!--设置管理的模块名称--&gt;
    &lt;modules&gt;
        &lt;module&gt;..&#x2F;maven_02_ssm&lt;&#x2F;module&gt;
        &lt;module&gt;..&#x2F;maven_03_pojo&lt;&#x2F;module&gt;
        &lt;module&gt;..&#x2F;maven_04_dao&lt;&#x2F;module&gt;
    &lt;&#x2F;modules&gt;
&lt;&#x2F;project&gt;</code></pre>

<ul>
<li>jar:默认情况，说明该项目为java项目</li>
<li>war:说明该项目为web项目</li>
<li>pom:说明该项目为聚合或继承(后面会讲)项目</li>
</ul>
<p>使用聚合统一管理项目</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220922153405.png"></p>
<p>测试发现，当<code>maven_01_parent</code>的<code>compile</code>被点击后，所有被其管理的项目都会被执行编译操作。这就是聚合工程的作用。</p>
<p><strong>说明：</strong>聚合工程管理的项目在进行运行的时候，会按照项目与项目之间的依赖关系来自动决定执行的顺序和配置的顺序无关。</p>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><ul>
<li>所谓继承:描述的是两个工程间的关系，与java中的继承相似，子工程可以继承父工程中的配置信息，常见于依赖关系的继承。</li>
<li>作用：<ul>
<li>简化配置</li>
<li>减少版本冲突</li>
</ul>
</li>
</ul>
<h4 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h4><ol>
<li><p>创建maven模块，设置打包方式为pom</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;packaging&gt;pom&lt;&#x2F;packaging&gt;</code></pre>
</li>
<li><p>在父工程的pom文件中配置依赖关系(子工程将沿用父工程中的依赖关系)</p>
</li>
<li><p>配置子工程中可选的依赖关系</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;dependencyManagement&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.alibaba&lt;&#x2F;groupId&gt;
            &lt;artifactId&gt;druid&lt;&#x2F;artifactId&gt;
            &lt;version&gt;1.1.16&lt;&#x2F;version&gt;
        &lt;&#x2F;dependency&gt;
    &lt;&#x2F;dependencies&gt;
    ...
&lt;&#x2F;dependencyManagement&gt;</code></pre>
</li>
<li><p>在子工程中配置当前工程所继承的父工程</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;!--定义该工程的父工程--&gt;
&lt;parent&gt;
    &lt;groupId&gt;com.itheima&lt;&#x2F;groupId&gt;
    &lt;artifactId&gt;maven_01_parent&lt;&#x2F;artifactId&gt;
    &lt;version&gt;1.0-RELEASE&lt;&#x2F;version&gt;
    &lt;!--填写父工程的pom文件,可以不写--&gt;
    &lt;relativePath&gt;..&#x2F;maven_01_parent&#x2F;pom.xml&lt;&#x2F;relativePath&gt;
&lt;&#x2F;parent&gt;</code></pre>
</li>
<li><p>在子工程中配置父工程中可选依赖的坐标</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.alibaba&lt;&#x2F;groupId&gt;
        &lt;artifactId&gt;druid&lt;&#x2F;artifactId&gt;
    &lt;&#x2F;dependency&gt;
&lt;&#x2F;dependencies&gt;</code></pre></li>
</ol>
<p><strong>注意事项:</strong></p>
<p>1.子工程中使用父工程中的可选依赖时，仅需要提供群组id和项目id，无需提供版本，版本由父工程统一提供，避免版本冲突</p>
<p>2.子工程中还可以定义父工程中没有定义的依赖关系,只不过不能被父工程进行版本统一管理。</p>
<hr>
<h3 id="聚合和继承的区别"><a href="#聚合和继承的区别" class="headerlink" title="聚合和继承的区别"></a>聚合和继承的区别</h3><ul>
<li>作用：<ul>
<li>聚合用于快速构建项目</li>
<li>继承用于快速配置</li>
</ul>
</li>
<li>相同点：<ul>
<li>聚合与继承的pom.xml文件打包方式均为pom，可以将两种关系制作到同一个pom文件中</li>
<li>聚合和继承均属于设计型模块，并无实际的内容模块</li>
</ul>
</li>
<li>不同点：<ul>
<li>聚合是在当前模块中配置关系，聚合可以感知到参与聚合的模块有哪些</li>
<li>继承是在子模块中配置关系，父模块无法感知哪些子模块继承了自己</li>
</ul>
</li>
</ul>
<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><p>如果我们现在想更新Spring的版本 如何保证多个jar包版本的统一？</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220924094236.png"></p>
<p>步骤1:父工程的pom.xml中定义属性</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;properties&gt;
    &lt;spring.version&gt;5.2.10.RELEASE&lt;&#x2F;spring.version&gt;
    &lt;junit.version&gt;4.12&lt;&#x2F;junit.version&gt;
    &lt;mybatis-spring.version&gt;1.3.0&lt;&#x2F;mybatis-spring.version&gt;
&lt;&#x2F;properties&gt;</code></pre>

<p>步骤2:修改依赖的version</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
    &lt;artifactId&gt;spring-core&lt;&#x2F;artifactId&gt;
    &lt;version&gt;$&#123;spring.version&#125;&lt;&#x2F;version&gt;
&lt;&#x2F;dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
    &lt;artifactId&gt;spring-webmvc&lt;&#x2F;artifactId&gt;
    &lt;version&gt;$&#123;spring.version&#125;&lt;&#x2F;version&gt;
&lt;&#x2F;dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;
    &lt;artifactId&gt;spring-jdbc&lt;&#x2F;artifactId&gt;
    &lt;version&gt;$&#123;spring.version&#125;&lt;&#x2F;version&gt;
&lt;&#x2F;dependency&gt;</code></pre>

<p>此时，我们只需要更新父工程中properties标签中所维护的jar包版本，所有子项目中的版本也就跟着更新。</p>
<h3 id="配置文件加载属性"><a href="#配置文件加载属性" class="headerlink" title="配置文件加载属性"></a>配置文件加载属性</h3><h4 id="步骤-1"><a href="#步骤-1" class="headerlink" title="步骤"></a>步骤</h4><h5 id="步骤1-父工程定义属性"><a href="#步骤1-父工程定义属性" class="headerlink" title="步骤1:父工程定义属性"></a>步骤1:父工程定义属性</h5><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;properties&gt;
   &lt;jdbc.url&gt;jdbc:mysql:&#x2F;&#x2F;127.1.1.1:3306&#x2F;ssm_db&lt;&#x2F;jdbc.url&gt;
&lt;&#x2F;properties&gt;</code></pre>

<h5 id="步骤2-jdbc-properties文件中引用属性"><a href="#步骤2-jdbc-properties文件中引用属性" class="headerlink" title="步骤2:jdbc.properties文件中引用属性"></a>步骤2:jdbc.properties文件中引用属性</h5><p>在jdbc.properties，将jdbc.url的值直接获取Maven配置的属性</p>
<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties">jdbc.driver&#x3D;com.mysql.jdbc.Driver
jdbc.url&#x3D;$&#123;jdbc.url&#125;
jdbc.username&#x3D;root
jdbc.password&#x3D;root</code></pre>

<h5 id="步骤3-设置maven过滤文件范围"><a href="#步骤3-设置maven过滤文件范围" class="headerlink" title="步骤3:设置maven过滤文件范围"></a>步骤3:设置maven过滤文件范围</h5><p>Maven在默认情况下是从当前项目的<code>src\main\resources</code>下读取文件进行打包。现在我们需要打包的资源文件是在maven_02_ssm下,需要我们通过配置来指定下具体的资源目录。</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;build&gt;
    &lt;resources&gt;
        &lt;!--设置资源目录--&gt;
        &lt;resource&gt;
            &lt;directory&gt;..&#x2F;maven_02_ssm&#x2F;src&#x2F;main&#x2F;resources&lt;&#x2F;directory&gt;
            &lt;!--设置能够解析$&#123;&#125;，默认是false --&gt;
            &lt;filtering&gt;true&lt;&#x2F;filtering&gt;
        &lt;&#x2F;resource&gt;
    &lt;&#x2F;resources&gt;
&lt;&#x2F;build&gt;</code></pre>

<p>**说明:**directory路径前要添加<code>../</code>的原因是maven_02_ssm相对于父工程的pom.xml路径是在其上一层的目录中，所以需要添加。</p>
<p>修改完后，注意maven_02_ssm项目的resources目录就多了些东西，如下:</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220925101433.png"></p>
<h5 id="步骤4-测试是否生效"><a href="#步骤4-测试是否生效" class="headerlink" title="步骤4:测试是否生效"></a>步骤4:测试是否生效</h5><p>测试的时候，只需要将maven_02_ssm项目进行打包，然后观察打包结果中最终生成的内容是否为Maven中配置的内容。</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220925101517.png"></p>
<p>上面的属性管理就已经完成，但是有一个问题没有解决，因为不只是maven_02_ssm项目需要有属性被父工程管理，如果有多个项目需要配置，该如何实现呢?</p>
<p>方式一:</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;build&gt;
    &lt;resources&gt;
        &lt;!--设置资源目录，并设置能够解析$&#123;&#125;--&gt;
        &lt;resource&gt;
            &lt;directory&gt;..&#x2F;maven_02_ssm&#x2F;src&#x2F;main&#x2F;resources&lt;&#x2F;directory&gt;
            &lt;filtering&gt;true&lt;&#x2F;filtering&gt;
        &lt;&#x2F;resource&gt;
        &lt;resource&gt;
            &lt;directory&gt;..&#x2F;maven_03_pojo&#x2F;src&#x2F;main&#x2F;resources&lt;&#x2F;directory&gt;
            &lt;filtering&gt;true&lt;&#x2F;filtering&gt;
        &lt;&#x2F;resource&gt;
        ...
    &lt;&#x2F;resources&gt;
&lt;&#x2F;build&gt;</code></pre>

<p>可以配，但是如果项目够多的话，这个配置也是比较繁琐</p>
<p>方式二:</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;build&gt;
    &lt;resources&gt;
        &lt;!--
			$&#123;project.basedir&#125;: 当前项目所在目录,子项目继承了父项目，
			相当于所有的子项目都添加了资源目录的过滤
		--&gt;
        &lt;resource&gt;
            &lt;directory&gt;$&#123;project.basedir&#125;&#x2F;src&#x2F;main&#x2F;resources&lt;&#x2F;directory&gt;
            &lt;filtering&gt;true&lt;&#x2F;filtering&gt;
        &lt;&#x2F;resource&gt;
    &lt;&#x2F;resources&gt;
&lt;&#x2F;build&gt;</code></pre>

<p>**说明:**打包的过程中如果报如下错误:</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220925101605.png"></p>
<p>原因就是Maven发现你的项目为web项目，就会去找web项目的入口web.xml[配置文件配置的方式]，发现没有找到，就会报错。</p>
<p>解决方案1：在maven_02_ssm项目的<code>src\main\webapp\WEB-INF\</code>添加一个web.xml文件</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;
&lt;web-app xmlns&#x3D;&quot;http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee&quot;
         xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;
         xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee&#x2F;web-app_3_1.xsd&quot;
         version&#x3D;&quot;3.1&quot;&gt;
&lt;&#x2F;web-app&gt;</code></pre>

<p>上面我们所使用的都是Maven的自定义属性，除了${project.basedir},它属于Maven的内置系统属性。</p>
<p>在Maven中的属性分为:</p>
<ul>
<li>自定义属性（常用）</li>
<li>内置属性</li>
<li>Setting属性</li>
<li>Java系统属性</li>
<li>环境变量属性</li>
</ul>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220925101720.png"></p>
<p>具体如何查看这些属性:</p>
<p>在cmd命令行中输入<code>mvn help:system</code></p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220925101751.png"></p>
<p>具体使用，就是使用 <code>$&#123;key&#125;</code>来获取，key为等号左边的，值为等号右边的，比如获取红线的值，对应的写法为 <code>$&#123;java.runtime.name&#125;</code>。</p>
<h3 id="版本管理"><a href="#版本管理" class="headerlink" title="版本管理"></a>版本管理</h3><p>在我们jar包的版本定义中，有两个工程版本用的比较多:</p>
<ul>
<li>SNAPSHOT（快照版本）<ul>
<li>项目开发过程中临时输出的版本，称为快照版本</li>
<li>快照版本会随着开发的进展不断更新</li>
</ul>
</li>
<li>RELEASE（发布版本）<ul>
<li>项目开发到一定阶段里程碑后，向团队外部发布较为稳定的版本，这种版本所对应的构件文件是稳定的</li>
<li>即便进行功能的后续开发，也不会改变当前发布版本内容，这种版本称为发布版本</li>
</ul>
</li>
</ul>
<p>除了上面的工程版本，我们还经常能看到一些发布版本:</p>
<ul>
<li>alpha版:内测版，bug多不稳定内部版本不断添加新功能</li>
<li>beta版:公测版，不稳定(比alpha稳定些)，bug相对较多不断添加新功能</li>
<li>纯数字版</li>
</ul>
<h3 id="多环境配置与应用"><a href="#多环境配置与应用" class="headerlink" title="多环境配置与应用"></a>多环境配置与应用</h3><h4 id="多环境开发"><a href="#多环境开发" class="headerlink" title="多环境开发"></a>多环境开发</h4><p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220925112837.png"></p>
<ul>
<li>我们平常都是在自己的开发环境进行开发，</li>
<li>当开发完成后，需要把开发的功能部署到测试环境供测试人员进行测试使用，</li>
<li>等测试人员测试通过后，我们会将项目部署到生成环境上线使用。</li>
<li>这个时候就有一个问题是，不同环境的配置是不相同的，如不可能让三个环境都用一个数据库，所以就会有三个数据库的url配置，</li>
<li>我们在项目中如何配置?</li>
<li>要想实现不同环境之间的配置切换又该如何来实现呢?</li>
</ul>
<p>maven提供配置多种环境的设定，帮助开发者在使用过程中快速切换环境。具体实现步骤:</p>
<h4 id="步骤1-父工程配置多个环境-并指定默认激活环境"><a href="#步骤1-父工程配置多个环境-并指定默认激活环境" class="headerlink" title="步骤1:父工程配置多个环境,并指定默认激活环境"></a>步骤1:父工程配置多个环境,并指定默认激活环境</h4><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;profiles&gt;
    &lt;!--开发环境--&gt;
    &lt;profile&gt;
        &lt;id&gt;env_dep&lt;&#x2F;id&gt;
        &lt;properties&gt;
            &lt;jdbc.url&gt;jdbc:mysql:&#x2F;&#x2F;127.1.1.1:3306&#x2F;ssm_db&lt;&#x2F;jdbc.url&gt;
        &lt;&#x2F;properties&gt;
        &lt;!--设定是否为默认启动环境--&gt;
        &lt;activation&gt;
            &lt;activeByDefault&gt;true&lt;&#x2F;activeByDefault&gt;
        &lt;&#x2F;activation&gt;
    &lt;&#x2F;profile&gt;
    &lt;!--生产环境--&gt;
    &lt;profile&gt;
        &lt;id&gt;env_pro&lt;&#x2F;id&gt;
        &lt;properties&gt;
            &lt;jdbc.url&gt;jdbc:mysql:&#x2F;&#x2F;127.2.2.2:3306&#x2F;ssm_db&lt;&#x2F;jdbc.url&gt;
        &lt;&#x2F;properties&gt;
    &lt;&#x2F;profile&gt;
    &lt;!--测试环境--&gt;
    &lt;profile&gt;
        &lt;id&gt;env_test&lt;&#x2F;id&gt;
        &lt;properties&gt;
            &lt;jdbc.url&gt;jdbc:mysql:&#x2F;&#x2F;127.3.3.3:3306&#x2F;ssm_db&lt;&#x2F;jdbc.url&gt;
        &lt;&#x2F;properties&gt;
    &lt;&#x2F;profile&gt;
&lt;&#x2F;profiles&gt;</code></pre>

<p><strong>所以总结来说，对于多环境切换只需要两步即可:</strong></p>
<ul>
<li><p>父工程中定义多环境</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;profiles&gt;
	&lt;profile&gt;
    	&lt;id&gt;环境名称&lt;&#x2F;id&gt;
        &lt;properties&gt;
        	&lt;key&gt;value&lt;&#x2F;key&gt;
        &lt;&#x2F;properties&gt;
        &lt;activation&gt;
        	&lt;activeByDefault&gt;true&lt;&#x2F;activeByDefault&gt;
        &lt;&#x2F;activation&gt;
    &lt;&#x2F;profile&gt;
    ...
&lt;&#x2F;profiles&gt;</code></pre>
</li>
<li><p>使用多环境(构建过程)</p>
<pre class="line-numbers language-none"><code class="language-none">mvn 指令 -P 环境定义ID[环境定义中获取]</code></pre></li>
</ul>
<h4 id="跳过测试"><a href="#跳过测试" class="headerlink" title="跳过测试"></a>跳过测试</h4><ul>
<li>应用场景<ul>
<li>功能更新中并且没有开发完毕</li>
<li>快速打包</li>
<li>……</li>
</ul>
</li>
</ul>
<p>前面在执行<code>install</code>指令的时候，Maven都会按照顺序从上往下依次执行，每次都会执行<code>test</code>,</p>
<p>对于<code>test</code>来说有它存在的意义，</p>
<ul>
<li>可以确保每次打包或者安装的时候，程序的正确性，假如测试已经通过在我们没有修改程序的前提下再次执行打包或安装命令，由于顺序执行，测试会被再次执行，就有点耗费时间了。</li>
<li>功能开发过程中有部分模块还没有开发完毕，测试无法通过，但是想要把其中某一部分进行快速打包，此时由于测试环境失败就会导致打包失败。</li>
</ul>
<p>遇到上面这些情况的时候，我们就想跳过测试执行下面的构建命令，具体实现方式有很多：</p>
<h5 id="方式一-IDEA工具实现跳过测试"><a href="#方式一-IDEA工具实现跳过测试" class="headerlink" title="方式一:IDEA工具实现跳过测试"></a>方式一:IDEA工具实现跳过测试</h5><p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220925150619.png"></p>
<p>图中的按钮为<code>Toggle &#39;Skip Tests&#39; Mode</code>,</p>
<p>Toggle翻译为切换的意思，也就是说在测试与不测试之间进行切换。</p>
<p>点击一下，出现测试画横线的图片，如下:</p>
<p><img src="/../../../BaiduNetdiskDownload/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B68%E7%AC%94%E8%AE%B0/Maven%E9%AB%98%E7%BA%A7%E7%AC%94%E8%AE%B0/assets/1630985411766.png" alt="1630985411766"></p>
<p>说明测试已经被关闭，再次点击就会恢复。</p>
<p>这种方式最简单，但是有点”暴力”，会把所有的测试都跳过，如果我们想更精细的控制哪些跳过哪些不跳过，就需要使用配置插件的方式。</p>
<h5 id="方式二-配置插件实现跳过测试"><a href="#方式二-配置插件实现跳过测试" class="headerlink" title="方式二:配置插件实现跳过测试"></a>方式二:配置插件实现跳过测试</h5><p>在父工程中的pom.xml中添加测试插件配置</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;artifactId&gt;maven-surefire-plugin&lt;&#x2F;artifactId&gt;
            &lt;version&gt;2.12.4&lt;&#x2F;version&gt;
            &lt;configuration&gt;
                &lt;skipTests&gt;false&lt;&#x2F;skipTests&gt;
                &lt;!--排除掉不参与测试的内容--&gt;
                &lt;excludes&gt;
                    &lt;exclude&gt;**&#x2F;BookServiceTest.java&lt;&#x2F;exclude&gt;
                &lt;&#x2F;excludes&gt;
            &lt;&#x2F;configuration&gt;
        &lt;&#x2F;plugin&gt;
    &lt;&#x2F;plugins&gt;
&lt;&#x2F;build&gt;</code></pre>

<p>skipTests:如果为true，则跳过所有测试，如果为false，则不跳过测试</p>
<p>excludes：哪些测试类不参与测试，即排除，针对skipTests为false来设置的</p>
<p>includes: 哪些测试类要参与测试，即包含,针对skipTests为true来设置的</p>
<h5 id="方式三-命令行跳过测试"><a href="#方式三-命令行跳过测试" class="headerlink" title="方式三:命令行跳过测试"></a>方式三:命令行跳过测试</h5><p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220925150717.png"></p>
<p>使用Maven的命令行，<code>mvn 指令 -D skipTests</code></p>
<p>注意事项:</p>
<ul>
<li>执行的项目构建指令必须包含测试生命周期，否则无效果。例如执行compile生命周期，不经过test生命周期。</li>
<li>该命令可以不借助IDEA，直接使用cmd命令行进行跳过测试，需要注意的是cmd要在pom.xml所在目录下进行执行。</li>
</ul>
<h3 id="私服"><a href="#私服" class="headerlink" title="私服"></a>私服</h3><h4 id="私服简介及使用"><a href="#私服简介及使用" class="headerlink" title="私服简介及使用"></a>私服简介及使用</h4><p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220926111028.png"></p>
<ul>
<li>私服是一台独立的服务器，用于解决团队内部的资源共享与资源同步问题</li>
</ul>
<p>搭建Maven私服的方式有很多，我们来介绍其中一种使用量比较大的实现方式:</p>
<ul>
<li>Nexus<ul>
<li>Sonatype公司的一款maven私服产品</li>
<li>下载地址：<a class="link"   target="_blank" rel="noopener" href="https://help.sonatype.com/repomanager3/download" >https://help.sonatype.com/repomanager3/download<i class="fas fa-external-link-alt"></i></a></li>
</ul>
</li>
</ul>
<p>使用cmd进入到解压目录下的<code>nexus-3.30.1-01\bin</code>,执行如下命令:</p>
<pre class="line-numbers language-none"><code class="language-none">nexus.exe &#x2F;run nexus</code></pre>

<p>至此私服就已经安装成功。如果要想修改一些基础配置信息，可以使用:</p>
<ul>
<li>修改基础配置信息<ul>
<li>安装路径下etc目录中nexus-default.properties文件保存有nexus基础配置信息，例如默认访问端口。</li>
</ul>
</li>
<li>修改服务器运行配置信息<ul>
<li>安装路径下bin目录中nexus.vmoptions文件保存有nexus服务器启动对应的配置信息，例如默认占用内存空间。</li>
</ul>
</li>
</ul>
<h4 id="私服仓库分类"><a href="#私服仓库分类" class="headerlink" title="私服仓库分类"></a>私服仓库分类</h4><p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220927085153.png"></p>
<h4 id="本地仓库访问私服配置"><a href="#本地仓库访问私服配置" class="headerlink" title="本地仓库访问私服配置"></a>本地仓库访问私服配置</h4><p>步骤1:私服上配置仓库</p>
<h4 id="步骤2-配置本地Maven对私服的访问权限"><a href="#步骤2-配置本地Maven对私服的访问权限" class="headerlink" title="步骤2:配置本地Maven对私服的访问权限"></a>步骤2:配置本地Maven对私服的访问权限</h4><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;servers&gt;
    &lt;server&gt;
        &lt;id&gt;itheima-snapshot&lt;&#x2F;id&gt;
        &lt;username&gt;admin&lt;&#x2F;username&gt;
        &lt;password&gt;admin&lt;&#x2F;password&gt;
    &lt;&#x2F;server&gt;
    &lt;server&gt;
        &lt;id&gt;itheima-release&lt;&#x2F;id&gt;
        &lt;username&gt;admin&lt;&#x2F;username&gt;
        &lt;password&gt;admin&lt;&#x2F;password&gt;
    &lt;&#x2F;server&gt;
&lt;&#x2F;servers&gt;</code></pre>

<h4 id="步骤3-配置私服的访问路径"><a href="#步骤3-配置私服的访问路径" class="headerlink" title="步骤3:配置私服的访问路径"></a>步骤3:配置私服的访问路径</h4><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;mirrors&gt;
    &lt;mirror&gt;
        &lt;!--配置仓库组的ID--&gt;
        &lt;id&gt;maven-public&lt;&#x2F;id&gt;
        &lt;!--*代表所有内容都从私服获取--&gt;
        &lt;mirrorOf&gt;*&lt;&#x2F;mirrorOf&gt;
        &lt;!--私服仓库组maven-public的访问路径--&gt;
        &lt;url&gt;http:&#x2F;&#x2F;localhost:8081&#x2F;repository&#x2F;maven-public&#x2F;&lt;&#x2F;url&gt;
    &lt;&#x2F;mirror&gt;
&lt;&#x2F;mirrors&gt;</code></pre>

<p><strong>为了避免阿里云Maven私服地址的影响，建议先将之前配置的阿里云Maven私服镜像地址注释掉，等练习完后，再将其恢复。</strong></p>
<h4 id="资源上传与下载"><a href="#资源上传与下载" class="headerlink" title="资源上传与下载"></a>资源上传与下载</h4><p>本地仓库与私服已经建立了连接，接下来我们就需要往私服上上传资源和下载资源，具体的实现步骤为:</p>
<h5 id="步骤1-配置工程上传私服的具体位置"><a href="#步骤1-配置工程上传私服的具体位置" class="headerlink" title="步骤1:配置工程上传私服的具体位置"></a>步骤1:配置工程上传私服的具体位置</h5><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"> &lt;!--配置当前工程保存在私服中的具体位置--&gt;
&lt;distributionManagement&gt;
    &lt;repository&gt;
        &lt;!--和maven&#x2F;settings.xml中server中的id一致，表示使用该id对应的用户名和密码--&gt;
        &lt;id&gt;itheima-release&lt;&#x2F;id&gt;
         &lt;!--release版本上传仓库的具体地址--&gt;
        &lt;url&gt;http:&#x2F;&#x2F;localhost:8081&#x2F;repository&#x2F;itheima-release&#x2F;&lt;&#x2F;url&gt;
    &lt;&#x2F;repository&gt;
    &lt;snapshotRepository&gt;
        &lt;!--和maven&#x2F;settings.xml中server中的id一致，表示使用该id对应的用户名和密码--&gt;
        &lt;id&gt;itheima-snapshot&lt;&#x2F;id&gt;
        &lt;!--snapshot版本上传仓库的具体地址--&gt;
        &lt;url&gt;http:&#x2F;&#x2F;localhost:8081&#x2F;repository&#x2F;itheima-snapshot&#x2F;&lt;&#x2F;url&gt;
    &lt;&#x2F;snapshotRepository&gt;
&lt;&#x2F;distributionManagement&gt;</code></pre>

<h5 id="步骤2-发布资源到私服"><a href="#步骤2-发布资源到私服" class="headerlink" title="步骤2:发布资源到私服"></a>步骤2:发布资源到私服</h5><p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220927164136.png"></p>
<p>或者执行Maven命令</p>
<pre class="line-numbers language-none"><code class="language-none">mvn deploy</code></pre>

<p><strong>注意:</strong></p>
<p>要发布的项目都需要配置<code>distributionManagement</code>标签，要么在自己的pom.xml中配置，要么在其父项目中配置，然后子项目中继承父项目即可。</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20220927165603.png"></p>

        </div>

        

        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/post/Mybatis.html"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Mybatis</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/post/JDBC%E6%80%BB%E7%BB%93.html"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">JDBC总结</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>
              -
            
            2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">Keep Team</a>
        </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    

    <div class="image-viewer-container">
    <img src="">
</div>


    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>








<div class="post-scripts">
    
</div>



</body>
</html>
