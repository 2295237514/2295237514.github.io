<!DOCTYPE html>
<html lang="en">
    <head>
  <!-- 元数据 -->
  <meta charset="utf-8">
  
  
  <title>Redis入门 | Hexo</title>
  <meta name="author" content="GLK" />
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telphone=no, email=no" />
  
    <meta name="keywords" content="" />
  
  <meta name="description" content="NOSQL优点1.解决CPU及内存压力  2.解决IO压力  概述NoSQL(NoSQL &#x3D; Not Only SQL )，意即“不仅仅是SQL”，泛指非关系型的数据库。  NoSQL 不依赖业务逻辑方式存储，而以简单的key-value模式存储。因此大大的增加了数据库的扩展能力。 1.不遵循SQL标准。 2.不支持ACID。 3.远超于SQL的性能。 NoSQL适用场景  1.对数据高">
<meta property="og:type" content="article">
<meta property="og:title" content="Redis入门">
<meta property="og:url" content="https://2295237514.github.io/post/Redis%E5%85%A5%E9%97%A8.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="NOSQL优点1.解决CPU及内存压力  2.解决IO压力  概述NoSQL(NoSQL &#x3D; Not Only SQL )，意即“不仅仅是SQL”，泛指非关系型的数据库。  NoSQL 不依赖业务逻辑方式存储，而以简单的key-value模式存储。因此大大的增加了数据库的扩展能力。 1.不遵循SQL标准。 2.不支持ACID。 3.远超于SQL的性能。 NoSQL适用场景  1.对数据高">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://raw.githubusercontent.com/2295237514/image/main/20230109124222.png">
<meta property="og:image" content="https://raw.githubusercontent.com/2295237514/image/main/20230109124425.png">
<meta property="og:image" content="https://raw.githubusercontent.com/2295237514/image/main/20230109152514.png">
<meta property="og:image" content="https://raw.githubusercontent.com/2295237514/image/main/20230109153652.png">
<meta property="og:image" content="https://raw.githubusercontent.com/2295237514/image/main/20230109153746.png">
<meta property="og:image" content="https://raw.githubusercontent.com/2295237514/image/main/20230109163458.png">
<meta property="og:image" content="https://raw.githubusercontent.com/2295237514/image/main/20230109163727.png">
<meta property="og:image" content="https://raw.githubusercontent.com/2295237514/image/main/20230109164052.png">
<meta property="og:image" content="https://raw.githubusercontent.com/2295237514/image/main/20230109164158.png">
<meta property="og:image" content="https://raw.githubusercontent.com/2295237514/image/main/20230109164254.png">
<meta property="og:image" content="https://raw.githubusercontent.com/2295237514/image/main/20230109171809.png">
<meta property="og:image" content="https://raw.githubusercontent.com/2295237514/image/main/20230109161525.png">
<meta property="article:published_time" content="2023-01-09T02:59:24.000Z">
<meta property="article:modified_time" content="2023-01-10T05:31:27.002Z">
<meta property="article:author" content="GLK">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/2295237514/image/main/20230109124222.png">
  <link rel="alternate" href="atom.xml" type="application/atom+xml">
  <!-- 站点验证相关 -->
  
    
    
    
  
  <!-- 样式表文件 -->
  <link rel="stylesheet" id="kratos-css" href="/css/kratosr.min.css" media="all"></script>
  
    <link rel="stylesheet" id="darkmode-css" href="/css/kr-color-dark.min.css" media="(prefers-color-scheme: dark)"></script>
    <script src="/js/kr-dark.min.js"></script>
  
  
  <link rel="stylesheet" id="fontawe-css" href="/vendors/font-awesome@4.7.0/css/font-awesome.min.css" media="all"></script>
  <link rel="stylesheet" id="nprogress-css" href="/vendors/nprogress@0.2.0/nprogress.css" media="all"></script>
  
  
    <link rel="stylesheet" href="/vendors/aplayer@1.10.1/dist/APlayer.min.css"></script>
  
  
    <link rel="stylesheet" href="/vendors/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"></script>
  
  <!-- 不得不预先加载的一些JS文件 -->
  <script src="/vendors/jquery@3.6.0/dist/jquery.min.js"></script>
  
    <script src="/vendors/qrcode_js@1.0.0/qrcode.min.js"></script>
  
  
  <style>
    
    
  </style>
  
<meta name="generator" content="Hexo 6.1.0"></head>


    <body class="custom-background">
        <div id="kratos-wrapper">
    <div id="kratos-page">
        <div id="kratos-header">
            <header id="kratos-desktop-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="nav-header">
                        <nav id="kratos-menu-wrap">
                            <ul id="kratos-primary-menu" class="sf-menu">
                                
                                    
                                    
                                
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>
            <header id="kratos-mobile-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="color-logo"><a href="/">Hexo</a></div>
                    <div class="nav-toggle">
                        <a class="kratos-nav-toggle js-kratos-nav-toggle">
                            <i></i>
                        </a>
                    </div>
                </div>
            </header>
        </div>
        <div class="kratos-start kratos-hero-2">
            <!-- <div class="kratos-overlay"></div> -->
            <div class="kratos-cover kratos-cover-2 text-center">
                <div class="desc desc2 animate-box">
                    <a href="/">
                        <h2>Hexo</h2> <br />
                        <span></span>
                    </a>
                </div>
            </div>
        </div>

        <div id="kratos-blog-post">
            <div class="container">
                <div id="main" class="row">
                    

        

            <section class="col-md-8">

        

            <article itemscope itemtype="https://schema.org/Article">
    
    <link itemprop="mainEntityOfPage" href="https://2295237514.github.io/post/Redis%E5%85%A5%E9%97%A8.html">
    <div class="kratos-hentry kratos-post-inner clearfix">
        <header class="kratos-entry-header">
            
                <h1 class="kratos-entry-title text-center" itemprop="name headline">Redis入门</h1>
            
            
            <ul class="kratos-post-meta text-center">
                <li><time datetime="2023-01-09T02:59:24.000Z" itemprop="datePublished"><i class="fa fa-calendar"></i> 2023-01-09</time></li>
                <li itemprop="author" itemscope itemtype="https://schema.org/Person">
                    <i class="fa fa-user"></i> 作者 <span itemprop="name">GLK</span>
                </li>
                <li>
                    <i class="fa fa-edit"></i> 
                    
                    
                        ~16.75K
                    
                    字
                </li>
                
            </ul>
        </header>
        <div class="kratos-post-content">
            
            <div id="expire-alert" class="alert alert-warning hidden" role="alert">
                <div class="icon"><i class="fa fa-warning"></i></div>
                <div class="text"><p>本文最后编辑于 <time datetime="1673328687002"></time> 前，其中的内容可能需要更新。</p></div>
            </div>
            
            
            
            <hr />
            <div itemprop="articleBody"><h1 id="NOSQL"><a href="#NOSQL" class="headerlink" title="NOSQL"></a>NOSQL</h1><h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><p>1.解决CPU及内存压力</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20230109124222.png"></p>
<p>2.解决IO压力</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20230109124425.png"></p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>NoSQL(NoSQL &#x3D; <strong>Not Only SQL</strong> )，意即“不仅仅是SQL”，泛指<strong>非关系型的数据库</strong>。 </p>
<p>NoSQL 不依赖业务逻辑方式存储，而以简单的key-value模式存储。因此大大的增加了数据库的扩展能力。</p>
<p>1.不遵循SQL标准。</p>
<p>2.不支持ACID。</p>
<p>3.远超于SQL的性能。</p>
<p><strong>NoSQL</strong>适用场景 </p>
<p>1.对数据高并发的读写</p>
<p>2.海量数据的读写</p>
<p>3.对数据高可扩展性的</p>
<p><strong>NoSQL</strong>不适用场景</p>
<p>1.需要事务支持</p>
<p>2.基于sql的结构化查询存储，处理复杂的关系,需要即席查询。</p>
<p>3.<em>（用不着sql的和用了sql也不行的情况，请考虑用NoSq）</em></p>
<h1 id="常用五大数据类型"><a href="#常用五大数据类型" class="headerlink" title="常用五大数据类型"></a>常用五大数据类型</h1><h2 id="Redis键"><a href="#Redis键" class="headerlink" title="Redis键"></a>Redis键</h2><p>keys *查看当前库所有key  (匹配：keys *1)</p>
<p>exists key 判断某个key是否存在</p>
<p>type key 查看你的key是什么类型</p>
<p>del key    删除指定的key数据</p>
<p><strong>unlink key  根据value选择非阻塞删除</strong></p>
<p><strong>仅将keys从keyspace元数据中删除，真正的删除会在后续异步操作。</strong></p>
<p>expire key 10  10秒钟：为给定的key设置过期时间</p>
<p>ttl key 查看还有多少秒过期，-1表示永不过期，-2表示已过期</p>
<p>select 命令切换数据库</p>
<p>dbsize 查看当前数据库的key的数量</p>
<p>flushdb 清空当前库</p>
<p>flushall 通杀全部库</p>
<h2 id="Redis字符串-String"><a href="#Redis字符串-String" class="headerlink" title="Redis字符串(String)"></a>Redis字符串(String)</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>String是Redis最基本的类型，你可以理解成与Memcached一模一样的类型，一个key对应一个value。</p>
<p>String类型是二进制安全的。意味着Redis的string可以包含任何数据。比如jpg图片或者序列化的对象。</p>
<p>String类型是Redis最基本的数据类型，一个Redis中字符串value最多可以是512M</p>
<h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><p>set  <key><value>添加键值对</p>
<p>*NX：当数据库中key不存在时，可以将key-value添加数据库</p>
<p>*XX：当数据库中key存在时，可以将key-value添加数据库，与NX参数互斥</p>
<p>*EX：key的超时秒数</p>
<p>*PX：key的超时毫秒数，与EX互斥</p>
<p>get  <key>查询对应键值</p>
<p>append <key><value>将给定的<value> 追加到原值的末尾</p>
<p>strlen <key>获得值的长度</p>
<p>setnx <key><value>只有在 key 不存在时  设置 key 的值</p>
<p>incr <key></p>
<p>将 key 中储存的数字值增1</p>
<p>只能对数字值操作，如果为空，新增值为1</p>
<p>decr <key></p>
<p>将 key 中储存的数字值减1</p>
<p>只能对数字值操作，如果为空，新增值为-1</p>
<p>incrby &#x2F; decrby <key>&lt;步长&gt;将 key 中储存的数字值增减。自定义步长。</p>
<p>mset <key1><value1><key2><value2> ….. </p>
<p>同时设置一个或多个 key-value对 </p>
<p>mget <key1><key2><key3> …..</p>
<p>同时获取一个或多个 value </p>
<p>msetnx <key1><value1><key2><value2> ….. </p>
<p>同时设置一个或多个 key-value 对，当且仅当所有给定 key 都不存在。</p>
<p><strong>由于原子性，有一个失败则都失败</strong></p>
<p>getrange <key>&lt;起始位置&gt;&lt;结束位置&gt;</p>
<p>获得值的范围，类似java中的substring，<strong>前包，后包</strong></p>
<p>setrange <key>&lt;起始位置&gt;<value></p>
<p>用 <value> 覆写<key>所储存的字符串值，从&lt;起始位置&gt;开始(<strong>索引从0开始</strong>)。</p>
<p><strong>setex <key>&lt;过期时间&gt;<value></strong></p>
<p>设置键值的同时，设置过期时间，单位秒。</p>
<p>getset <key><value></p>
<p>以新换旧，设置了新值同时获得旧值。</p>
<h3 id="Java-中的-i-是原子操作吗？"><a href="#Java-中的-i-是原子操作吗？" class="headerlink" title="Java 中的 i++ 是原子操作吗？"></a>Java 中的 i++ 是原子操作吗？</h3><p>不是原子操作</p>
<p>所谓原子操作是指不会被线程调度机制打断的操作，这种操作一旦开始，就一直运行到结束，中间不会有任何 context switch （切换到另一个线程）</p>
<p>在单线程中， 能够在单条指令中完成的操作都可以认为是”原子操作”，因为中断只能发生于指令之间<br>在多线程中，不能被其它进程（线程）打断的操作就叫原子操作</p>
<p>Redis 单命令的原子性主要得益于 Redis 的单线程</p>
<h3 id="给定-i-x3D-0，两个线程分别执行-i-100次，值是多少？"><a href="#给定-i-x3D-0，两个线程分别执行-i-100次，值是多少？" class="headerlink" title="给定 i &#x3D; 0，两个线程分别执行 i++ 100次，值是多少？"></a><strong>给定 i &#x3D; 0，两个线程分别执行 i++ 100次，值是多少？</strong></h3><p>2~200</p>
<h3 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h3><p>String的数据结构为简单动态字符串(Simple Dynamic String,缩写SDS)。是可以修改的字符串，内部结构实现上类似于Java的ArrayList，采用预分配冗余空间的方式来减少内存的频繁分配.</p>
<p>内部为当前字符串实际分配的空间capacity一般要高于实际字符串长度len。当字符串长度小于1M时，扩容都是加倍现有的空间，如果超过1M，扩容时一次只会多扩1M的空间。需要注意的是字符串最大长度为512M。</p>
<h2 id="Redis列表-List"><a href="#Redis列表-List" class="headerlink" title="Redis列表(List)"></a>Redis列表(List)</h2><h3 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h3><p>单键多值</p>
<p>Redis 列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）。</p>
<p>它的底层实际是个双向链表，对两端的操作性能很高，通过索引下标的操作中间的节点性能会较差。</p>
<h3 id="常用命令-1"><a href="#常用命令-1" class="headerlink" title="常用命令"></a>常用命令</h3><p>lpush&#x2F;rpush <key><value1><value2><value3> …. 从左边&#x2F;右边插入一个或多个值。</p>
<p>lpop&#x2F;rpop <key>从左边&#x2F;右边吐出一个值。值在键在，值光键亡。</p>
<p>rpop|push <key1><key2>从<key1>列表右边吐出一个值，插到<key2>列表左边。</p>
<p>lrange <key><start><stop></p>
<p>按照索引下标获得元素(从左到右)</p>
<p>lrange mylist 0 -1  0左边第一个，-1右边第一个，（0-1表示获取所有）</p>
<p>lindex <key><index>按照索引下标获得元素(从左到右)</p>
<p>llen <key>获得列表长度 </p>
<p>linsert <key> before <value><newvalue>在<value>的后面插入<newvalue>插入值</p>
<p>lrem <key><n><value>从左边删除n个value(从左到右)</p>
<p>lset<key><index><value>将列表key下标为index的值替换成value</p>
<h3 id="数据结构-1"><a href="#数据结构-1" class="headerlink" title="数据结构"></a>数据结构</h3><p>List的数据结构为快速链表quickList。</p>
<p>首先在列表元素较少的情况下会使用一块连续的内存存储，这个结构是ziplist，也即是压缩列表。</p>
<p>它将所有的元素紧挨着一起存储，分配的是一块连续的内存。</p>
<p>当数据量比较多的时候才会改成quicklist。</p>
<p>因为普通的链表需要的附加指针空间太大，会比较浪费空间。比如这个列表里存的只是int类型的数据，结构上还需要两个额外的指针prev和next。</p>
<p>Redis将链表和ziplist结合起来组成了quicklist。也就是将多个ziplist使用双向指针串起来使用。这样既满足了快速的插入删除性能，又不会出现太大的空间冗余。</p>
<h2 id="Redis集合-Set"><a href="#Redis集合-Set" class="headerlink" title="Redis集合(Set)"></a>Redis集合(Set)</h2><h3 id="简介-2"><a href="#简介-2" class="headerlink" title="简介"></a>简介</h3><p>Redis set对外提供的功能与list类似是一个列表的功能，特殊之处在于set是可以<strong>自动排重</strong>的，当你需要存储一个列表数据，又不希望出现重复数据时，set是一个很好的选择，并且set提供了判断某个成员是否在一个set集合内的重要接口，这个也是list所不能提供的。</p>
<p>Redis的Set是string类型的无序集合。它底层其实是一个value为null的hash表，所以添加，删除，查找的*<em>复杂度都是</em>***O(1)**。</p>
<p>一个算法，随着数据的增加，执行时间的长短，如果是O(1)，数据增加，查找数据的时间不变</p>
<h3 id="常用命令-2"><a href="#常用命令-2" class="headerlink" title="常用命令"></a>常用命令</h3><p>sadd <key><value1><value2> ….. </p>
<p>将一个或多个 member 元素加入到集合 key 中，已经存在的 member 元素将被忽略</p>
<p>smembers <key>取出该集合的所有值。</p>
<p>sismember <key><value>判断集合<key>是否为含有该<value>值，有1，没有0</p>
<p>scard<key>返回该集合的元素个数。</p>
<p>srem <key><value1><value2> …. 删除集合中的某个元素。</p>
<p>spop <key><strong>随机从该集合中吐出一个值。</strong></p>
<p>srandmember <key><n>随机从该集合中取出n个值。不会从集合中删除 。</p>
<p>smove <source><destination>value把集合中一个值从一个集合移动到另一个集合</p>
<p>sinter <key1><key2>返回两个集合的交集元素。</p>
<p>sunion <key1><key2>返回两个集合的并集元素。</p>
<p>sdiff <key1><key2>返回两个集合的<strong>差集</strong>元素(key1中的，不包含key2中的)</p>
<h3 id="数据结构-2"><a href="#数据结构-2" class="headerlink" title="数据结构"></a>数据结构</h3><p>Set数据结构是dict字典，字典是用哈希表实现的。</p>
<p>Java中HashSet的内部实现使用的是HashMap，只不过所有的value都指向同一个对象。Redis的set结构也是一样，它的内部也使用hash结构，所有的value都指向同一个内部值。</p>
<h2 id="Redis哈希-Hash"><a href="#Redis哈希-Hash" class="headerlink" title="Redis哈希(Hash)"></a>Redis哈希(Hash)</h2><h3 id="简介-3"><a href="#简介-3" class="headerlink" title="简介"></a>简介</h3><p>Redis hash 是一个键值对集合。</p>
<p>Redis hash是一个string类型的field和value的映射表，hash特别适合用于存储对象。</p>
<p>类似Java里面的Map&lt;String,Object&gt;</p>
<p>用户ID为查找的key，存储的value用户对象包含姓名，年龄，生日等信息，如果用普通的key&#x2F;value结构来存储</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20230109152514.png"></p>
<h3 id="常用命令-3"><a href="#常用命令-3" class="headerlink" title="常用命令"></a>常用命令</h3><p> hset <key><field><value>给<key>集合中的 <field>键赋值<value></p>
<p>hget <key1><field>从<key1>集合<field>取出 value </p>
<p>hset <key1><field1><value1><field2><value2>… 批量设置hash的值</p>
<p>hexists<key1><field>查看哈希表 key 中，给定域 field 是否存在。 </p>
<p>hkeys <key>列出该hash集合的所有field</p>
<p>hvals <key>列出该hash集合的所有value</p>
<p>hincrby <key><field><increment>为哈希表 key 中的域 field 的值加上增量 1  -1</p>
<p>hsetnx <key><field><value>将哈希表 key 中的域 field 的值设置为 value ，当且仅当域 field 不存在</p>
<h3 id="数据结构-3"><a href="#数据结构-3" class="headerlink" title="数据结构"></a>数据结构</h3><p>Hash类型对应的数据结构是两种：ziplist（压缩列表），hashtable（哈希表）。当field-value长度较短且个数较少时，使用ziplist，否则使用hashtable</p>
<h2 id="Redis有序集合-Zset"><a href="#Redis有序集合-Zset" class="headerlink" title="Redis有序集合(Zset)"></a>Redis有序集合(Zset)</h2><h3 id="简介-4"><a href="#简介-4" class="headerlink" title="简介"></a>简介</h3><p>Redis有序集合zset与普通集合set非常相似，是一个没有重复元素的字符串集合。</p>
<p>不同之处是有序集合的每个成员都关联了一个<strong>评分（<strong><strong>score</strong></strong>）</strong>,这个评分（score）被用来按照从最低分到最高分的方式排序集合中的成员。集合的成员是唯一的，但是评分可以是重复了 。</p>
<p>因为元素是有序的, 所以你也可以很快的根据评分（score）或者次序（position）来获取一个范围的元素。</p>
<p>访问有序集合的中间元素也是非常快的,因此你能够使用有序集合作为一个没有重复成员的智能列表。</p>
<h3 id="常用命令-4"><a href="#常用命令-4" class="headerlink" title="常用命令"></a>常用命令</h3><p>zadd <key><score1><value1><score2><value2>…</p>
<p>将一个或多个 member 元素及其 score 值加入到有序集 key 当中。</p>
<p><strong>zrange <key><start><stop> [WITHSCORES]</strong>  </p>
<p>返回有序集 key 中，下标在<start><stop>之间的元素</p>
<p>带WITHSCORES，可以让分数一起和值返回到结果集。</p>
<p>zrangebyscore key minmax [withscores] [limit offset count]</p>
<p>返回有序集 key 中，所有 score 值介于 min 和 max 之间(包括等于 min 或 max )的成员。有序集成员按 score 值递增(从小到大)次序排列。 </p>
<p>zrevrangebyscore key maxmin [withscores] [limit offset count]        </p>
<p>同上，改为从大到小排列。 </p>
<p>zincrby <key><increment><value>   为元素的score加上增量</p>
<p>zrem <key><value>删除该集合下，指定值的元素</p>
<p>zcount <key><min><max>统计该集合，分数区间内的元素个数 </p>
<p>zrank <key><value>返回该值在集合中的排名，从0开始。</p>
<h3 id="数据结构-4"><a href="#数据结构-4" class="headerlink" title="数据结构"></a>数据结构</h3><p>SortedSet(zset)是Redis提供的一个非常特别的数据结构，一方面它等价于Java的数据结构Map&lt;String, Double&gt;，可以给每一个元素value赋予一个权重score，另一方面它又类似于TreeSet，内部的元素会按照权重score进行排序，可以得到每个元素的名次，还可以通过score的范围来获取元素的列表。</p>
<p>zset底层使用了两个数据结构</p>
<p>（1）hash，hash的作用就是关联元素value和权重score，保障元素value的唯一性，可以通过元素value找到相应的score值。</p>
<p>（2）跳跃表，跳跃表的目的在于给元素value排序，根据score的范围获取元素列表。</p>
<h3 id="跳表"><a href="#跳表" class="headerlink" title="跳表"></a>跳表</h3><p>1、简介</p>
<p>  有序集合在生活中比较常见，例如根据成绩对学生排名，根据得分对玩家排名等。对于有序集合的底层实现，可以用数组、平衡树、链表等。数组不便元素的插入、删除；平衡树或红黑树虽然效率高但结构复杂；链表查询需要遍历所有效率低。Redis采用的是跳跃表。跳跃表效率堪比红黑树，实现远比红黑树简单。</p>
<p>2、实例</p>
<p>  对比有序链表和跳跃表，从链表中查询出51</p>
<p>（1）  有序链表</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20230109153652.png"></p>
<p>要查找值为51的元素，需要从第一个元素开始依次查找、比较才能找到。共需要6次比较。</p>
<p>（2）  跳表</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20230109153746.png"></p>
<p>从第2层开始，1节点比51节点小，向后比较。</p>
<p>21节点比51节点小，继续向后比较，后面就是NULL了，所以从21节点向下到第1层</p>
<p>在第1层，41节点比51节点小，继续向后，61节点比51节点大，所以从41向下</p>
<p>在第0层，51节点为要查找的节点，节点被找到，共查找4次。</p>
<p>从此可以看出跳跃表比有序链表效率要高</p>
<h1 id="Redis的三种新数据类型"><a href="#Redis的三种新数据类型" class="headerlink" title="Redis的三种新数据类型"></a>Redis的三种新数据类型</h1><h2 id="Bitmaps"><a href="#Bitmaps" class="headerlink" title="Bitmaps"></a>Bitmaps</h2><h3 id="简介-5"><a href="#简介-5" class="headerlink" title="简介"></a>简介</h3><p>现代计算机用二进制（位） 作为信息的基础单位， 1个字节等于8位， 例如“abc”字符串是由3个字节组成， 但实际在计算机存储时将其用二进制表示， “abc”分别对应的ASCII码分别是97、 98、 99， 对应的二进制分别是01100001、 01100010和01100011，如下图</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20230109163458.png"></p>
<p>合理地使用操作位能够有效地提高内存使用率和开发效率。</p>
<p>   Redis提供了Bitmaps这个“数据类型”可以实现对位的操作：</p>
<p>（1）  Bitmaps本身不是一种数据类型， 实际上它就是字符串（key-value） ， 但是它可以对字符串的位进行操作。</p>
<p>（2）  Bitmaps单独提供了一套命令， 所以在Redis中使用Bitmaps和使用字符串的方法不太相同。 可以把Bitmaps想象成一个以位为单位的数组， 数组的每个单元只能存储0和1， 数组的下标在Bitmaps中叫做偏移量。</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20230109163727.png"></p>
<h3 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h3><p>1、setbit</p>
<p>（1）格式</p>
<p>setbit<key><offset><value>设置Bitmaps中某个偏移量的值（0或1）</p>
<p>*offset:偏移量从0开始</p>
<p>（2）实例</p>
<p>每个独立用户是否访问过网站存放在Bitmaps中， 将访问的用户记做1， 没有访问的用户记做0， 用偏移量作为用户的id。</p>
<p>设置键的第offset个位的值（从0算起） ， 假设现在有20个用户，userid&#x3D;1， 6， 11， 15， 19的用户对网站进行了访问， 那么当前Bitmaps初始化结果如图</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20230109164052.png"></p>
<p>unique:users:20201106代表2020-11-06这天的独立访问用户的Bitmaps</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20230109164158.png"></p>
<p>注：</p>
<p>很多应用的用户id以一个指定数字（例如10000） 开头， 直接将用户id和Bitmaps的偏移量对应势必会造成一定的浪费， 通常的做法是每次做setbit操作时将用户id减去这个指定数字。</p>
<p>在第一次初始化Bitmaps时， 假如偏移量非常大， 那么整个初始化过程执行会比较慢， 可能会造成Redis的阻塞。</p>
<p>2、getbit</p>
<p>（1）格式</p>
<p>getbit<key><offset>获取Bitmaps中某个偏移量的值</p>
<p>获取键的第offset位的值（从0开始算）</p>
<p>（2）实例</p>
<p>获取id&#x3D;8的用户是否在2020-11-06这天访问过， 返回0说明没有访问过：</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20230109164254.png"></p>
<p>注：因为100根本不存在，所以也是返回0</p>
<p>3、bitcount</p>
<p>统计<strong>字符串</strong>被设置为1的bit数。一般情况下，给定的整个字符串都会被进行计数，通过指定额外的 start 或 end 参数，可以让计数只在特定的位上进行。start 和 end 参数的设置，都可以使用负数值：比如 -1 表示最后一个位，而 -2 表示倒数第二个位，start、end 是指bit组的字节的下标数，二者皆包含。</p>
<p>（1）格式</p>
<p>bitcount<key>[start end] 统计字符串从start字节到end字节比特值为1的数量</p>
<p>举例： K1 【01000001 01000000 00000000 00100001】，对应【0，1，2，3】</p>
<p>bitcount K1 1 2 ： 统计下标1、2字节组中bit&#x3D;1的个数，即01000000 00000000</p>
<p>–》bitcount K1 1 2 　　–》1</p>
<p>bitcount K1 1 3 ： 统计下标1、2字节组中bit&#x3D;1的个数，即01000000 00000000 00100001</p>
<p>–》bitcount K1 1 3　　–》3</p>
<p>bitcount K1 0 -2 ： 统计下标0到下标倒数第2，字节组中bit&#x3D;1的个数，即01000001 01000000  00000000</p>
<p>–》bitcount K1 0 -2　　–》3</p>
<p> 注意：redis的setbit设置或清除的是bit位置，而bitcount计算的是byte位置。</p>
<p>4、bitop</p>
<p>(1)格式</p>
<p>bitop and(or&#x2F;not&#x2F;xor) <destkey> [key…]</p>
<p>bitop是一个复合操作， 它可以做多个Bitmaps的and（交集） 、 or（并集） 、 not（非） 、 xor（异或） 操作并将结果保存在destkey中。</p>
<h3 id="Bitmaps与set对比"><a href="#Bitmaps与set对比" class="headerlink" title="Bitmaps与set对比"></a>Bitmaps与set对比</h3><p><img src="https://raw.githubusercontent.com/2295237514/image/main/20230109171809.png"></p>
<h2 id="HyperLogLog"><a href="#HyperLogLog" class="headerlink" title="HyperLogLog"></a>HyperLogLog</h2><h3 id="简介-6"><a href="#简介-6" class="headerlink" title="简介"></a>简介</h3><p>在工作当中，我们经常会遇到与统计相关的功能需求，比如统计网站PV（PageView页面访问量）,可以使用Redis的incr、incrby轻松实现。</p>
<p>但像UV（UniqueVisitor，独立访客）、独立IP数、搜索记录数等需要去重和计数的问题如何解决？这种求集合中不重复元素个数的问题称为基数问题。</p>
<p>解决基数问题有很多种方案：</p>
<p>（1）数据存储在MySQL表中，使用distinct count计算不重复个数</p>
<p>（2）使用Redis提供的hash、set、bitmaps等数据结构来处理</p>
<p>以上的方案结果精确，但随着数据不断增加，导致占用空间越来越大，对于非常大的数据集是不切实际的。</p>
<p>能否能够降低一定的精度来平衡存储空间？Redis推出了HyperLogLog</p>
<p>Redis HyperLogLog 是用来做基数统计的算法，HyperLogLog 的优点是，在输入元素的数量或者体积非常非常大时，计算基数所需的空间总是固定的、并且是很小的。</p>
<p>在 Redis 里面，每个 HyperLogLog 键只需要花费 12 KB 内存，就可以计算接近 2^64 个不同元素的基数。这和计算基数时，元素越多耗费内存就越多的集合形成鲜明对比。</p>
<p>但是，因为 HyperLogLog 只会根据输入元素来计算基数，而不会储存输入元素本身，所以 HyperLogLog 不能像集合那样，返回输入的各个元素。</p>
<p>什么是基数?</p>
<p>比如数据集 {1, 3, 5, 7, 5, 7, 8}， 那么这个数据集的基数集为 {1, 3, 5 ,7, 8}, 基数(不重复元素)为5。 基数估计就是在误差可接受的范围内，快速计算基数。</p>
<h3 id="命令-1"><a href="#命令-1" class="headerlink" title="命令"></a>命令</h3><p>1、pfadd </p>
<p>（1）格式</p>
<p>pfadd <key>&lt; element&gt; [element …]  添加指定元素到 HyperLogLog 中</p>
<p>将所有元素添加到指定HyperLogLog数据结构中。如果执行命令后HLL估计的近似基数发生变化，则返回1，否则返回0。</p>
<p>2、pfcount</p>
<p>（1）格式</p>
<p>pfcount<key> [key …] 计算HLL的近似基数，可以计算多个HLL，比如用HLL存储每天的UV，计算一周的UV可以使用7天的UV合并计算即可</p>
<p>3、pfmerge</p>
<p>（1）格式</p>
<p>pfmerge<destkey><sourcekey> [sourcekey …] 将一个或多个HLL合并后的结果存储在另一个HLL中，比如每月活跃用户可以使用每天的活跃用户来合并计算可得</p>
<h2 id="Geospatial"><a href="#Geospatial" class="headerlink" title="Geospatial"></a>Geospatial</h2><h3 id="简介-7"><a href="#简介-7" class="headerlink" title="简介"></a>简介</h3><p>Redis 3.2 中增加了对GEO类型的支持。GEO，Geographic，地理信息的缩写。该类型，就是元素的2维坐标，在地图上就是经纬度。redis基于该类型，提供了经纬度设置，查询，范围查询，距离查询，经纬度Hash等常见操作。</p>
<h3 id="命令-2"><a href="#命令-2" class="headerlink" title="命令"></a>命令</h3><p>1、geoadd</p>
<p>（1）格式</p>
<p>geoadd<key>&lt; longitude&gt;<latitude><member> [longitude latitude member…]  添加地理位置（经度，纬度，名称）</p>
<p>2、geopos </p>
<p>（1）格式</p>
<p>geopos <key><member> [member…] 获得指定地区的坐标值</p>
<p>3、geodist</p>
<p>（1）格式</p>
<p>geodist<key><member1><member2> [m|km|ft|mi ] 获取两个位置之间的直线距离</p>
<p>4、georadius</p>
<p>（1）格式</p>
<p>georadius<key>&lt; longitude&gt;<latitude>radius m|km|ft|mi  以给定的经纬度为中心，找出某一半径内的元素</p>
<h1 id="Redis的发布和订阅"><a href="#Redis的发布和订阅" class="headerlink" title="Redis的发布和订阅"></a>Redis的发布和订阅</h1><p>Redis 发布订阅 (pub&#x2F;sub) 是一种消息通信模式：发送者 (pub) 发送消息，订阅者 (sub) 接收消息。</p>
<p>Redis 客户端可以订阅任意数量的频道。</p>
<p><img src="https://raw.githubusercontent.com/2295237514/image/main/20230109161525.png"></p>
<h1 id="Jedis"><a href="#Jedis" class="headerlink" title="Jedis"></a>Jedis</h1><p>引入jar包</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;dependency&gt;
	&lt;groupId&gt;redis.clients&lt;&#x2F;groupId&gt;
	&lt;artifactId&gt;jedis&lt;&#x2F;artifactId&gt;
	&lt;version&gt;3.2.0&lt;&#x2F;version&gt;
&lt;&#x2F;dependency&gt;</code></pre>

<h2 id="Jedis-API"><a href="#Jedis-API" class="headerlink" title="Jedis-API"></a>Jedis-API</h2><h3 id="Key"><a href="#Key" class="headerlink" title="Key"></a>Key</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java">jedis.set(&quot;k1&quot;, &quot;v1&quot;);
jedis.set(&quot;k2&quot;, &quot;v2&quot;);
jedis.set(&quot;k3&quot;, &quot;v3&quot;);
Set&lt;String&gt; keys &#x3D; jedis.keys(&quot;*&quot;);
System.out.println(keys.size());
for (String key : keys) &#123;
	System.out.println(key);
&#125;
System.out.println(jedis.exists(&quot;k1&quot;));
System.out.println(jedis.ttl(&quot;k1&quot;));                
System.out.println(jedis.get(&quot;k1&quot;));</code></pre>

<h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java">jedis.mset(&quot;str1&quot;,&quot;v1&quot;,&quot;str2&quot;,&quot;v2&quot;,&quot;str3&quot;,&quot;v3&quot;);
System.out.println(jedis.mget(&quot;str1&quot;,&quot;str2&quot;,&quot;str3&quot;));</code></pre>

<h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java">List&lt;String&gt; list &#x3D; jedis.lrange(&quot;mylist&quot;,0,-1);
for (String element : list) &#123;
	System.out.println(element);
&#125;
</code></pre>

<h3 id="set"><a href="#set" class="headerlink" title="set"></a>set</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java">jedis.sadd(&quot;orders&quot;, &quot;order01&quot;);
jedis.sadd(&quot;orders&quot;, &quot;order02&quot;);
jedis.sadd(&quot;orders&quot;, &quot;order03&quot;);
jedis.sadd(&quot;orders&quot;, &quot;order04&quot;);
Set&lt;String&gt; smembers &#x3D; jedis.smembers(&quot;orders&quot;);
for (String order : smembers) &#123;
	System.out.println(order);
&#125;
jedis.srem(&quot;orders&quot;, &quot;order02&quot;);
</code></pre>

<h3 id="hash"><a href="#hash" class="headerlink" title="hash"></a>hash</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java">jedis.hset(&quot;hash1&quot;,&quot;userName&quot;,&quot;lisi&quot;);
System.out.println(jedis.hget(&quot;hash1&quot;,&quot;userName&quot;));
Map&lt;String,String&gt; map &#x3D; new HashMap&lt;String,String&gt;();
map.put(&quot;telphone&quot;,&quot;13810169999&quot;);
map.put(&quot;address&quot;,&quot;atguigu&quot;);
map.put(&quot;email&quot;,&quot;abc@163.com&quot;);
jedis.hmset(&quot;hash2&quot;,map);
List&lt;String&gt; result &#x3D; jedis.hmget(&quot;hash2&quot;, &quot;telphone&quot;,&quot;email&quot;);
for (String element : result) &#123;
	System.out.println(element);
&#125;</code></pre>

<h3 id="Zset"><a href="#Zset" class="headerlink" title="Zset"></a>Zset</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java">jedis.zadd(&quot;zset01&quot;, 100d, &quot;z3&quot;);
jedis.zadd(&quot;zset01&quot;, 90d, &quot;l4&quot;);
jedis.zadd(&quot;zset01&quot;, 80d, &quot;w5&quot;);
jedis.zadd(&quot;zset01&quot;, 70d, &quot;z6&quot;);
 
Set&lt;String&gt; zrange &#x3D; jedis.zrange(&quot;zset01&quot;, 0, -1);
for (String e : zrange) &#123;
	System.out.println(e);
&#125;
</code></pre>

<h2 id="Jedis完成手机验证码功能"><a href="#Jedis完成手机验证码功能" class="headerlink" title="Jedis完成手机验证码功能"></a>Jedis完成手机验证码功能</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java">public class PhoneCode &#123;
    public static void main(String[] args) &#123;
        verifyCode(&quot;15736918299&quot;);
        getRedisCode(&quot;15736918299&quot;, &quot;635867&quot;);
    &#125;

    public static void getRedisCode(String phone, String code)&#123;
        Jedis jedis &#x3D; new Jedis(&quot;Redis的IP地址&quot;, 端口号);
        jedis.auth(&quot;Redis的登录密码&quot;);
        String codeKey &#x3D; &quot;VerifyCode&quot; + phone + &quot;:code&quot;;
        String redisCode &#x3D; jedis.get(codeKey);
        System.out.println(&quot;redisCode&#x3D;&quot; + redisCode);
        if(redisCode.equals(code))&#123;
            System.out.println(&quot;success&quot;);
        &#125;else&#123;
            System.out.println(&quot;fault&quot;);
        &#125;
        jedis.close();
    &#125;

    public static void verifyCode(String phone)&#123;
        Jedis jedis &#x3D; new Jedis(&quot;Redis的IP地址&quot;, 端口号);
        jedis.auth(&quot;Redis的登录密码&quot;);
        String countKey &#x3D; &quot;VerifyCode&quot; + phone + &quot;:count&quot;;
        String codeKey &#x3D; &quot;VerifyCode&quot; + phone + &quot;:code&quot;;
        String count &#x3D; jedis.get(countKey);
        if(count &#x3D;&#x3D; null)&#123;
            jedis.setex(countKey, 24*60*60, &quot;1&quot;);
        &#125; else if (Integer.parseInt(count) &lt;&#x3D; 2) &#123;
            jedis.incr(countKey);
        &#125;else if (Integer.parseInt(count) &gt; 2)&#123;
            System.out.println(&quot;今天发送次数已经超过三次&quot;);
            jedis.close();
            return;
        &#125;

        String code1 &#x3D; getCode();
        jedis.setex(codeKey, 120, code1);
        jedis.close();
    &#125;
    public static String getCode()&#123;
        Random random &#x3D; new Random();
        String code &#x3D; &quot;&quot;;
        for(int i &#x3D; 0; i &lt; 6; i ++)&#123;
            int rand &#x3D; random.nextInt(10);
            code +&#x3D; rand;
        &#125;
        return code;
    &#125;
&#125;</code></pre>

<h2 id="SpringBoot整合Jedis"><a href="#SpringBoot整合Jedis" class="headerlink" title="SpringBoot整合Jedis"></a>SpringBoot整合Jedis</h2><p>1、 在pom.xml文件中引入redis相关依赖</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">&lt;!-- redis --&gt;
&lt;dependency&gt;
&lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;
&lt;artifactId&gt;spring-boot-starter-data-redis&lt;&#x2F;artifactId&gt;
&lt;&#x2F;dependency&gt;

&lt;!-- spring2.X集成redis所需common-pool2--&gt;
&lt;dependency&gt;
&lt;groupId&gt;org.apache.commons&lt;&#x2F;groupId&gt;
&lt;artifactId&gt;commons-pool2&lt;&#x2F;artifactId&gt;
&lt;version&gt;2.6.0&lt;&#x2F;version&gt;
&lt;&#x2F;dependency&gt;</code></pre>

<p>2、application.properties配置redis配置</p>
<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties">#Redis服务器地址
spring.redis.host&#x3D;192.168.140.136
#Redis服务器连接端口
spring.redis.port&#x3D;6379
#Redis数据库索引（默认为0）
spring.redis.database&#x3D; 0
#连接超时时间（毫秒）
spring.redis.timeout&#x3D;1800000
#连接池最大连接数（使用负值表示没有限制）
spring.redis.lettuce.pool.max-active&#x3D;20
#最大阻塞等待时间(负数表示没限制)
spring.redis.lettuce.pool.max-wait&#x3D;-1
#连接池中的最大空闲连接
spring.redis.lettuce.pool.max-idle&#x3D;5
#连接池中的最小空闲连接
spring.redis.lettuce.pool.min-idle&#x3D;0</code></pre>

<p>3、添加redis配置类</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">@EnableCaching
@Configuration
public class RedisConfig extends CachingConfigurerSupport &#123;

    @Bean
    public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory factory) &#123;
        RedisTemplate&lt;String, Object&gt; template &#x3D; new RedisTemplate&lt;&gt;();
        RedisSerializer&lt;String&gt; redisSerializer &#x3D; new StringRedisSerializer();
        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer &#x3D; new Jackson2JsonRedisSerializer(Object.class);
        ObjectMapper om &#x3D; new ObjectMapper();
        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);
        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);
        jackson2JsonRedisSerializer.setObjectMapper(om);
        template.setConnectionFactory(factory);
&#x2F;&#x2F;key序列化方式
        template.setKeySerializer(redisSerializer);
&#x2F;&#x2F;value序列化
        template.setValueSerializer(jackson2JsonRedisSerializer);
&#x2F;&#x2F;value hashmap序列化
        template.setHashValueSerializer(jackson2JsonRedisSerializer);
        return template;
    &#125;

    @Bean
    public CacheManager cacheManager(RedisConnectionFactory factory) &#123;
        RedisSerializer&lt;String&gt; redisSerializer &#x3D; new StringRedisSerializer();
        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer &#x3D; new Jackson2JsonRedisSerializer(Object.class);
&#x2F;&#x2F;解决查询缓存转换异常的问题
        ObjectMapper om &#x3D; new ObjectMapper();
        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);
        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);
        jackson2JsonRedisSerializer.setObjectMapper(om);
&#x2F;&#x2F; 配置序列化（解决乱码的问题）,过期时间600秒
        RedisCacheConfiguration config &#x3D; RedisCacheConfiguration.defaultCacheConfig()
                .entryTtl(Duration.ofSeconds(600))
                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(redisSerializer))
                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(jackson2JsonRedisSerializer))
                .disableCachingNullValues();
        RedisCacheManager cacheManager &#x3D; RedisCacheManager.builder(factory)
                .cacheDefaults(config)
                .build();
        return cacheManager;
    &#125;
&#125;</code></pre>

<p>4、RedisTestController中添加测试方法</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">@RestController
@RequestMapping(&quot;&#x2F;redisTest&quot;)
public class RedisTestController &#123;
    @Autowired
    private RedisTemplate redisTemplate;

    @GetMapping
    public String testRedis() &#123;
        &#x2F;&#x2F;设置值到redis
        redisTemplate.opsForValue().set(&quot;name&quot;,&quot;lucy&quot;);
        &#x2F;&#x2F;从redis获取值
        String name &#x3D; (String)redisTemplate.opsForValue().get(&quot;name&quot;);
        return name;
    &#125;
&#125;</code></pre>

</div>
        </div>
        
            <div class="kratos-copyright text-center clearfix">
                <h5 itemprop="copyrightNotice">本作品采用 <a rel="license nofollow" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
        
        <footer class="kratos-entry-footer clearfix">
            
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                
                
                    <a class="share" href="javascript:;"><i class="fa fa-share-alt"></i> 分享</a>
                    <div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain qq" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain qzone" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode" id="wechat-qr"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
    </div>
    <script type="text/javascript">
        $(()=>{
            new QRCode("wechat-qr", {
                text: "https://2295237514.github.io/post/Redis%E5%85%A5%E9%97%A8.html",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
        });
        function share(dest) {
            const qqBase        = "https://connect.qq.com/widget/shareqq/index.html?";
            const weiboBase     = "https://service.weibo.com/share/share.php?";
            const qzoneBase     = "https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
            const facebookBase  = "https://www.facebook.com/sharer/sharer.php?";
            const twitterBase   = "https://twitter.com/intent/tweet?";
            const hostUrl       = "https://2295237514.github.io/post/Redis%E5%85%A5%E9%97%A8.html";
            const title         = "「Redis入门」";
            const excerpt       = `NOSQL优点1.解决CPU及内存压力

2.解决IO压力

概述NoSQL(NoSQL &#x3D; Not Only SQL )，意即“不仅仅是SQL”，泛指非关系型的数据库。 
NoSQL 不依赖业务逻辑方式存储，而以简单的ke...`;
            let _URL;
            switch (dest) {
                case "qq"       : _URL = qqBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                case "weibo"    : _URL = weiboBase+"url="+hostUrl+"&title="+title+excerpt;                                 break;
                case "qzone"    : _URL = qzoneBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                case "facebook" : _URL = facebookBase+"u="+hostUrl;                                                        break;
                case "twitter"  : _URL = twitterBase+"text="+title+excerpt+"&url="+hostUrl;                                break;
            }
            window.open(_URL);
        };
    </script>
</div>
                
                </div>
            
            <div class="footer-tag clearfix">
                <div class="pull-left">
                <i class="fa fa-tags"></i>
                    
                </div>
                <div class="pull-date">
                    <time datetime="2023-01-10T05:31:27.002Z" itemprop="dateModified">最后编辑：2023-01-10</time>
                </div>
            </div>
        </footer>
    </div>
    
        <nav class="navigation post-navigation clearfix" role="navigation">
            
            <div class="nav-previous clearfix">
                <a title=" Java集合框架" target="_blank" rel="noopener" href="//post/Java集合框架.html">&lt; 上一篇</a>
            </div>
            
            
            <div class="nav-next clearfix">
                <a title=" Mysql进阶篇" target="_blank" rel="noopener" href="//post/Mysql进阶篇.html">下一篇 &gt;</a>
            </div>
            
        </nav>
    
    
</article>

        

            </section>

        

                
            

<section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm">
    <!-- 文章和页面根据splitter来分割，没有的话就从头开始设置为sticky -->
    
    
                <aside id="krw-about" class="widget widget-kratos-about clearfix">
    <div class="photo-background"></div>
    <div class="photo-wrapper clearfix">
        <div class="photo-wrapper-tip text-center">
            <img class="about-photo" src="/images/avatar.webp" loading="lazy" decoding="auto" />
        </div>
    </div>
    <div class="textwidget">
        <p class="text-center"></p>
    </div>
    <div class="site-meta">
        <a class="meta-item" href="/archives/">
            <span class="title">
                文章
            </span>
            <span class="count">
                16
            </span>
        </a>
        <a class="meta-item" href="/categories/">
            <span class="title">
                分类
            </span>
            <span class="count">
                0
            </span>
        </a>
        <a class="meta-item" href="/tags/">
            <span class="title">
                标签
            </span>
            <span class="count">
                4
            </span>
        </a>
    </div>
</aside>
            
                    <div class="sticky-area">
                
                

            
                
  <aside id="krw-tags" class="widget widget-kratos-tags clearfix">
    <h4 class="widget-title"><i class="fa fa-tags"></i>标签聚合</h4>
      <div class="tag-clouds">
        <a href="/tags/JavaWeb/" style="font-size: 0.6em;">JavaWeb</a> <a href="/tags/java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" style="font-size: 0.6em;">java基础知识</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 0.6em;">前端</a> <a href="/tags/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 0.8em;">算法与数据结构</a>
      </div>
  </aside>

            
                
  <aside id="krw-posts" class="widget widget-kratos-posts">
  <h4 class="widget-title"><i class="fa fa-file"></i>最新文章</h4>
  <div class="tab-content">
      <ul class="list-group">
        
        
          
          
            <a class="list-group-item" href="/post/Mysql%E8%BF%9B%E9%98%B6%E7%AF%87.html"><i class="fa  fa-book"></i> Mysql进阶篇</a>
            
          
        
          
          
            <a class="list-group-item" href="/post/Redis%E5%85%A5%E9%97%A8.html"><i class="fa  fa-book"></i> Redis入门</a>
            
          
        
          
          
            <a class="list-group-item" href="/post/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6.html"><i class="fa  fa-book"></i> Java集合框架</a>
            
          
        
          
          
            <a class="list-group-item" href="/post/%E9%9D%A2%E8%AF%95%E7%B2%BE%E9%80%89%E9%97%AE%E9%A2%98.html"><i class="fa  fa-book"></i> 面试精选问题</a>
            
          
        
          
          
            <a class="list-group-item" href="/post/JVM.html"><i class="fa  fa-book"></i> JVM</a>
            
          
        
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
      </ul>
  </div>
  </aside>

            
    </div>
</section>
        
        </div>
    </div>
</div>
<footer>
    <div id="footer"  class="ap-lrc"  >
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                    <ul class="kratos-social-icons">
                        <!-- Keep for compatibility -->
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <!-- New links -->
                        
                    </ul>
                    <ul class="kratos-copyright">
                        <div>
                            <li>&copy; 2023 Hexo 版权所有.</li>
                            <li>本站已运行<span id="span_dt">Loading...</span></li>
                        </div>
                        <div>
                            <li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos:Rebirth</a></li>
                            <li>Site built with&nbsp;<i class="fa fa-heart throb" style="color:#d43f57"></i>&nbsp;by GLK.</li>
                        </div>
                        <div>
                            <li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li>
                            <li>Hosted on <a href="https://github.io" target="_blank">Github Pages</a></li>
                        </div>
                        <div>
                            
                            
                        </div>
                    </ul>
                </div>
            </div>
        </div>
        <div class="kr-tool text-center">
            <div class="tool">
                
                    <div class="box search-box">
                        <a href="/search/">
                            <span class="fa fa-search"></span>
                        </a>
                    </div>
                
                
                    <div class="box theme-box" id="darkmode-switch">
                        <span class="fa fa-adjust"></span>
                    </div>
                
                
                
            </div>
            <div class="box gotop-box">
                <span class="fa fa-chevron-up"></span>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

        <script defer src="/vendors/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>
<script defer src="/vendors/nprogress@0.2.0/nprogress.js"></script>
<script>
    if (!window.kr) {
        window.kr = {};
    }
    window.kr.notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));
    window.kr.siteRoot = "/";
</script>


    <script async src="/js/candy.min.js"></script>



    <script defer src="/vendors/aplayer@1.10.1/dist/APlayer.min.js"></script>
    
    <script defer src="/vendors/meting@2.0.1/dist/Meting.min.js"></script>
    <meting-js
        server="netease"
        type="playlist"
        id="3204190542"
        order="random"
        fixed="true"
    >
    </meting-js>



    <script defer src="/vendors/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<script defer src="/js/kratosr.min.js"></script>
<script defer src="/js/pjax.min.js"></script>



<!-- Extra support for third-party plguins  -->


    </body>
</html>